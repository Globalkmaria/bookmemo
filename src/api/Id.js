let accounts = [{ number: 1, id: 'test', password: '1234', token: 'abcd' }];
let nextNum = Math.max(...accounts.map((account) => account.number));
export const recommandBookData = [
  {
    authors: ['이웅모'],
    contents:
      '애플리케이션 개발 언어로 성장했습니다. 따라서 자바스크립트를 학습하는 방식도 이에 걸맞게 변화해야 하며, 이 책은 자바스크립트의 기본 개념과 동작 원리를 깊이 있게 학습하고자 하는 독자를 위해 기획되었습니다.  《모던 자바스크립트 Deep Dive》에서는 자바스크립트를 둘러싼 기본 개념을 정확하고 구체적으로 설명하고, 자바스크립트 코드의 동작 원리를 집요하게 파헤칩니다. 따라서 여러분이 작성한 코드가 컴퓨터 내부에서 어떻게 동작할 것인지 예측하고, 명확히 설명할',
    datetime: '2020-09-25T00:00:00.000+09:00',
    isbn: '1158392230 9791158392239',
    price: 45000,
    publisher: '위키북스',
    sale_price: 40500,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F5477653%3Ftimestamp%3D20210715150900',
    title:
      '모던 자바스크립트 Deep Dive(위키북스 프로그래밍 & 프랙티스 시리즈 26)',
    translators: [],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=5477653&q=%EB%AA%A8%EB%8D%98+%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8+Deep+Dive%28%EC%9C%84%ED%82%A4%EB%B6%81%EC%8A%A4+%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D+%26+%ED%94%84%EB%9E%99%ED%8B%B0%EC%8A%A4+%EC%8B%9C%EB%A6%AC%EC%A6%88+26%29',
    id: 2,
  },
  {
    authors: ['생텍쥐페리'],
    contents:
      '세상에서 가장 순수한 영혼, 《어린 왕자》 오리지널 초판본 표지디자인! 생텍쥐페리는 프랑스의 유명한 소설가로, 그의 작품 《어린 왕자》는 전 세계적으로 《성경》, 《자본론》 다음으로 많이 읽히는 책이다. 250여 개 언어로 번역되었고 1억 부 이상이 팔렸다. 그런데 아이러니하게도 《어린 왕자》는 프랑스가 아니라 미국 뉴욕에서 처음 출판되었다. 당시 생텍쥐페리는 제2차 세계대전으로 미국에서 망명 중이었고, 《어린 왕자》는 1943년 4월 6일에 영어판과',
    datetime: '2018-09-10T00:00:00.000+09:00',
    isbn: '1159039690 9791159039690',
    price: 9800,
    publisher: '더스토리',
    sale_price: 8820,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F3755834%3Ftimestamp%3D20210715152036',
    title:
      '어린왕자(초판본)(1943년 오리지널 초판본 표지디자인)(양장본 HardCover)',
    translators: ['김미정'],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=3755834&q=%EC%96%B4%EB%A6%B0%EC%99%95%EC%9E%90%28%EC%B4%88%ED%8C%90%EB%B3%B8%29%281943%EB%85%84+%EC%98%A4%EB%A6%AC%EC%A7%80%EB%84%90+%EC%B4%88%ED%8C%90%EB%B3%B8+%ED%91%9C%EC%A7%80%EB%94%94%EC%9E%90%EC%9D%B8%29%28%EC%96%91%EC%9E%A5%EB%B3%B8+HardCover%29',
    id: 3,
  },
  {
    authors: ['조셉 M. 마셜'],
    contents: '',
    datetime: '2008-03-21T00:00:00.000+09:00',
    isbn: '8992378130 9788992378130',
    price: 9800,
    publisher: '조화로운삶',
    sale_price: -1,
    status: '',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1370643%3Ftimestamp%3D20201102133843',
    title: '그래도 계속 가라(양장본 HardCover)',
    translators: ['유향란'],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1370643&q=%EA%B7%B8%EB%9E%98%EB%8F%84+%EA%B3%84%EC%86%8D+%EA%B0%80%EB%9D%BC%28%EC%96%91%EC%9E%A5%EB%B3%B8+HardCover%29',
    id: 4,
  },
  {
    authors: ['류시화'],
    contents:
      '그립다》 《외눈박이 물고기의 사랑》의 저자이며 잠언 시집 《지금 알고 있는 걸 그때도 알았더라면》을 소개해 ‘엮은 시집’이라는 새로운 지평을 연 류시화 시인이 이번에는 힐링 포엠을 주제로 한 권의 시집을 엮어 출간했다.  시집 『사랑하라 한번도 상처받지 않은 것처럼』은 고대 이집트 파피루스 서기관에서부터 노벨 문학상 수상자에 이르기까지 41세기에 걸쳐 시대를 넘나드는 유명, 무명 시인들의 시를 수록한 책이다. 잠언 시집 《지금 알고 있는 걸 그때도 알았더라면》 이후',
    datetime: '2008-10-24T00:00:00.000+09:00',
    isbn: '8995501472 9788995501474',
    price: 9500,
    publisher: '오래된미래',
    sale_price: 8550,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1442707%3Ftimestamp%3D20210715150519',
    title: '사랑하라 한번도 상처받지 않은 것처럼',
    translators: [],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1442707&q=%EC%82%AC%EB%9E%91%ED%95%98%EB%9D%BC+%ED%95%9C%EB%B2%88%EB%8F%84+%EC%83%81%EC%B2%98%EB%B0%9B%EC%A7%80+%EC%95%8A%EC%9D%80+%EA%B2%83%EC%B2%98%EB%9F%BC',
    id: 5,
  },
  {
    authors: ['빈센트 반 고흐'],
    contents:
      '1999년 6월에 출간되어 지금까지 20만 부가 넘게 판매되었던 『반 고흐, 영혼의 편지』. 이 책은 태양의 화가 반 고흐의 편지들을 묶은 것으로 동생 테오, 어머니, 동료인 고갱, 베르나르, 라파르 등에게 띄운 편지 들을 수록했다. 반 고흐의 고통스러웠던 인생유전, 그리고 찬란했던 미술작품의 비밀을 그의 생생한 목소리를 통해 들을 수 있다. 지독한 가난, 고독, 예술에 대한 끝없는 집착, 발작, 요절…. 반 고흐는 37년의 짧은 생애 동안 극적인',
    datetime: '2017-05-31T00:00:00.000+09:00',
    isbn: '8959135216 9788959135219',
    price: 12000,
    publisher: '위즈덤하우스',
    sale_price: 10800,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F794329%3Ftimestamp%3D20210715150351',
    title: '반 고흐, 영혼의 편지',
    translators: ['신성림'],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=794329&q=%EB%B0%98+%EA%B3%A0%ED%9D%90%2C+%EC%98%81%ED%98%BC%EC%9D%98+%ED%8E%B8%EC%A7%80',
    id: 6,
  },
  {
    authors: ['김민준'],
    contents:
      '리액트를 이해하기 위한 핵심 개념은 물론이고 어떤 상황에서 어떻게 사용해야 하는지, 왜 이렇게 사용하는 것이 효과적인지를 배우자. 공식 문서에는 나오지 않는 실전 노하우와 팁을 풍부하게 담았다. 또한, 프로젝트 생성부터 코드를 작성 및 개선하고, 배포하기까지 실무에 바로 응용할 수 있도록 예제를 준비했다. 일정 관리 애플리케이션을 만들면서 리액트의 기본기를 다지고, 프로젝트를 진행하면서 컴포넌트 스타일링, 상태 관리, API 연동, 라우팅, 코드 스플리팅',
    datetime: '2018-08-01T00:00:00.000+09:00',
    isbn: '1160505233 9791160505238',
    price: 36000,
    publisher: '길벗',
    sale_price: 32400,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1598637%3Ftimestamp%3D20210103145731',
    title: '리액트를 다루는 기술',
    translators: [],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1598637&q=%EB%A6%AC%EC%95%A1%ED%8A%B8%EB%A5%BC+%EB%8B%A4%EB%A3%A8%EB%8A%94+%EA%B8%B0%EC%88%A0',
    id: 7,
  },
  {
    authors: ['정재남'],
    contents:
      '진영은 빠르게 발전하고 있으며, 그 중심에는 자바스크립트가 있다고 해도 결코 과언이 아닙니다. ECMAScript2015 시대인 현재에 이르러서도 ES5에서 통용되던 자바스크립트의 핵심 이론은 여전히 유효하며 매우 중요합니다.  《코어 자바스크립트》는 자바스크립트의 근간을 이루는 핵심 이론들을 정확하게 이해하는 것을 목표로 합니다. 기본 이론들 중 ES6에서도 중요성이 높은 핵심 개념을 위주로 다루며, 테크닉이나 요령보다는 원리를 이해하는 데 목적을 두고 있습니다',
    datetime: '2019-09-10T00:00:00.000+09:00',
    isbn: '1158391722 9791158391720',
    price: 22000,
    publisher: '위키북스',
    sale_price: 19800,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F5064727%3Ftimestamp%3D20210715151400',
    title: '코어 자바스크립트(프로그래밍 & 프랙티스 시리즈 20)',
    translators: [],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=5064727&q=%EC%BD%94%EC%96%B4+%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%28%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D+%26+%ED%94%84%EB%9E%99%ED%8B%B0%EC%8A%A4+%EC%8B%9C%EB%A6%AC%EC%A6%88+20%29',
    id: 8,
  },
  {
    authors: ['요적'],
    contents:
      '▶ 꽃길 스페셜 에디션은 온라인 혹은 일부 매장에서 구매 가능합니다.  서툰 어른으로 살고 있는 우리에게 가장 필요한 말  펭귄이 길 위에서 만난 동물들은 모두 우리와 닮아있다. 펭귄은 끊임없이 길을 걷고, 길 위에서 만난 동물에게 “안녕하세요?” 안부를 묻는다. 그 물음 저편에는 안녕하고, 때론 안녕하지 못한 우리의 모습이 투영된다. 뒤처지지 않기 위해 멈추지 않고 뛰어가는 말, 조금 느리지만 자기만의 속도로 살아가는 나무늘보, 자리에 맞춰 사는',
    datetime: '2018-01-26T00:00:00.000+09:00',
    isbn: '1187119989 9791187119982',
    price: 13800,
    publisher: '마음의숲',
    sale_price: 12420,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1641272%3Ftimestamp%3D20210715150359',
    title: '처음 살아보니까 그럴 수 있어(꽃길 스페셜 에디션)',
    translators: [],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1641272&q=%EC%B2%98%EC%9D%8C+%EC%82%B4%EC%95%84%EB%B3%B4%EB%8B%88%EA%B9%8C+%EA%B7%B8%EB%9F%B4+%EC%88%98+%EC%9E%88%EC%96%B4%28%EA%BD%83%EA%B8%B8+%EC%8A%A4%ED%8E%98%EC%85%9C+%EC%97%90%EB%94%94%EC%85%98%29',
    id: 9,
  },
  {
    authors: ['니콜라스 자카스'],
    contents:
      '자바스크립트 성능 최적화를 위한 방법을 제시하는 『Java Script』. 이 책은 태그의 위치가 성능에 영향을 미치는 이유부터 시작해서 DOM 처리, 페이지 수명 주기, 실행 시간 개선을 위한 방법을 소개하고 있다. 자바스크립트의 성능을 최적화하는 방법을 제시하여 빠른 응답성을 지닌 웹 애플리케이션을 개발하도록 이끌어준다.',
    datetime: '2011-09-25T00:00:00.000+09:00',
    isbn: '8979148550 9788979148558',
    price: 20000,
    publisher: '한빛미디어',
    sale_price: -1,
    status: '',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1104347%3Ftimestamp%3D20210417142814',
    title: 'JavaScript',
    translators: ['한선용'],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1104347&q=JavaScript',
    id: 10,
  },
  {
    authors: ['팀 페리스'],
    contents:
      '대학교에서 ‘기업가정신’을 강의하는 팀 페리스는 글로벌 CEO, 석학, 언론들에게서 ‘이 시대 가장 혁신적인 아이콘’으로 평가받고 있다. 그는 18세 이후 자신의 모든 것을 기록으로 남겨왔을 정도로 강박적인 노트 수집가다. 이 책 『타이탄의 도구들』은 그런 그가 모은 노트들 가운데 가장 빛나는 보물이라고 자신하는 책이다.  이 노트를 남기기 위해 저자는 지난 몇 년간 ‘세상에서 가장 지혜롭고, 가장 부유하고, 가장 건강한 사람’이라고 평가받는 인물들을 만났다. 그리고',
    datetime: '2020-03-09T00:00:00.000+09:00',
    isbn: '1158510616 9791158510619',
    price: 15000,
    publisher: '토네이도',
    sale_price: 13500,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1583953%3Ftimestamp%3D20210715150338',
    title: '타이탄의 도구들(리커버 에디션)',
    translators: ['박선령'],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1583953&q=%ED%83%80%EC%9D%B4%ED%83%84%EC%9D%98+%EB%8F%84%EA%B5%AC%EB%93%A4%28%EB%A6%AC%EC%BB%A4%EB%B2%84+%EC%97%90%EB%94%94%EC%85%98%29',
    id: 11,
  },
  {
    authors: ['필 나이트'],
    contents:
      '‘신발 연구에 미친 사람’이란 은어인 《슈독Shoe Dog》. 이 책 『슈독』은 가진 것이라곤 무모한 열정과 끈기밖에 없었던 24살 청년, 필 나이트가 일본 운동화를 수입해 팔던 보따리 장사를 세계적 브랜드 나이키로 일궈내기까지의 과정을 다룬 최초의 자서전이자 나이키의 역사서다. 나이키의 대중적 이미지와 달리 필 나이트는 항상 신비에 감춰진 인물이었다. 그런 그가 회고록에서 지금의 나이키가 있기까지 겪었던 수많은 순간들을 최초로 공개하였다.  대학시절',
    datetime: '2016-10-07T00:00:00.000+09:00',
    isbn: '896435902X 9788964359020',
    price: 22000,
    publisher: '사회평론',
    sale_price: 19800,
    status: '정상판매',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F899953%3Ftimestamp%3D20210715150239',
    title: '슈독(Shoe Dog)(양장본 HardCover)',
    translators: ['안세민'],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=899953&q=%EC%8A%88%EB%8F%85%28Shoe+Dog%29%28%EC%96%91%EC%9E%A5%EB%B3%B8+HardCover%29',
    id: 12,
  },
  {
    authors: ['김랑'],
    contents: '',
    datetime: '2007-04-05T00:00:00.000+09:00',
    isbn: '8991055540 9788991055544',
    price: 12800,
    publisher: '조선일보생활미디어',
    sale_price: -1,
    status: '',
    thumbnail:
      'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1337409%3Ftimestamp%3D20190127223320',
    title: '뉴욕에 미치다(MAD FOR NEWYORK)',
    translators: [],
    url:
      'https://search.daum.net/search?w=bookpage&bookId=1337409&q=%EB%89%B4%EC%9A%95%EC%97%90+%EB%AF%B8%EC%B9%98%EB%8B%A4%28MAD+FOR+NEWYORK%29',
    id: 13,
  },
];
let localData = [
  {
    token: 'abcd',
    data: [
      {
        id: 1,
        data: {
          itemTitle: '리액트를 마스터하자!',
          date: '2021년 5월 11일',
          title: '리액트를 다루는 기술',
          authors: ['김민준'],
          publisher: '길벗',
          publishedDate: '2018-08-01',
          text: '리액트는 참 좋아!!',
          url:
            'https://search.daum.net/search?w=bookpage&bookId=1598637&q=%EB%A6%AC%EC%95%A1%ED%8A%B8%EB%A5%BC+%EB%8B%A4%EB%A3%A8%EB%8A%94+%EA%B8%B0%EC%88%A0',
          thumbnail:
            'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1598637%3Ftimestamp%3D20210103145731',
        },
        editedTime: 1620741937973,
      },
      {
        id: 2,
        data: {
          itemTitle: '할아버지가 들려주는',
          date: '2021년 5월 11일',
          title: '그래도 계속 가라(양장본 HardCover)',
          authors: ['조셉 M. 마셜'],
          publisher: '조화로운삶',
          publishedDate: '2008-03-21',
          text: '언제나 힘이되는 책!',
          url:
            'https://search.daum.net/search?w=bookpage&bookId=1370643&q=%EA%B7%B8%EB%9E%98%EB%8F%84+%EA%B3%84%EC%86%8D+%EA%B0%80%EB%9D%BC%28%EC%96%91%EC%9E%A5%EB%B3%B8+HardCover%29',
          thumbnail:
            'https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1370643%3Ftimestamp%3D20201102133843',
        },
        editedTime: 1620742041392,
      },
    ],
  },
];

const maketoken = (password) => {
  let unicode = '';
  for (let i = 0; i < password.length; i++) {
    unicode += password.charCodeAt(i).toString(16);
  }
  return unicode;
};
export const getToken = (id, password) =>
  new Promise((res, reject) => {
    const user = accounts.find((acount) => acount.id === id);
    if (user) {
      if (user.password === password) {
        setTimeout(() => {
          res({ token: user.token });
        }, 500);
      }
    } else {
      reject(new Error('사용자를 찾을 수 없습니다.'));
    }
  });
export const saveAccount = (id, password) =>
  new Promise((res, reject) => {
    if (!accounts.find((account) => account.id === id)) {
      accounts = [
        ...accounts,
        { number: nextNum, id, password, token: maketoken(password) },
      ];
      // console.log(accounts);
      setTimeout(() => {
        res('account created');
      }, 500);
    } else {
      // console.log('reject');
      reject(
        new Error(
          '같은 아이디의 계정이 존재합니다. 다른 아이디를 입력해주세요.'
        )
      );
    }
  });

export const getLocalItems = (token) =>
  new Promise((res, reject) => {
    if (token) {
      setTimeout(() => {
        // res(JSON.stringify(localStorage.getItem(`${token}_items`)));
        // console.log('settimeout');
        const data = localData.find((d) => d.token === token);
        if (data) {
          res(data);
        } else {
          res([]);
        }
      }, 500);
    } else {
      reject(new Error('unexpected error'));
    }
  });
export const saveLocalItems = (token, items) =>
  new Promise((res, reject) => {
    if (token) {
      if (!localData.filter((d) => d.token === token)) {
        localData = localData.concat({ token: token, data: items });
      } else {
        localData = localData.map((d) =>
          d.token === token ? { token: token, data: items } : d
        );
      }
      setTimeout(() => {
        // localStorage.setItem(`${token}_items`, JSON.parse(items));
        res('saved');
      }, 500);
    } else {
      reject(new Error('저장에 실패했습니다.'));
    }
  });
